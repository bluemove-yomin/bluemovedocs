{% extends 'base.html' %}
{% block title %} 500 Internal Server Error | ë¸”ë£¨ë¬´ë¸Œ ë‹¥ìŠ¤ {% endblock %}
{% block content %}
{% include 'shared/_navbar4home.html' %}
<main class="px-2 px-md-5">
    <div class="container-md mt-5">
        <!-- ë¬¸ì„œí•¨ì—ì„œ ë¬¸ì„œ ìƒì„± ë˜ëŠ” ë¬¸ì„œ ì œì¶œ ì¤‘ ë°œìƒí•œ ì˜¤ë¥˜ì¼ ê²½ìš° -->
        {% if 'create_doc' in request.build_absolute_uri or 'submit_doc' in request.build_absolute_uri %}
        <h1 class="mb-4 pb-2" id="errorPageLarge" style="font-weight: 600; color: #58595B;">ğŸ‘€ ì•—, ì„œë²„ê°€ ì´ìƒí•©ë‹ˆë‹¤!</h1>
        <h2 class="mb-4 pb-2" id="errorPageSmall" style="font-weight: 600; color: #58595B;">ğŸ‘€ ì•—, ì„œë²„ê°€ ì´ìƒí•©ë‹ˆë‹¤!</h2>
        <div class="callout callout-warning" style="word-break: break-word;">
            <span style="font-weight: 600; color: #58595B;"><i class="fas fa-exclamation-triangle"></i> ë¬¸ì„œí•¨ ê´€ë ¨ ì˜¤ë¥˜</span><br>
            {% if request.user.profile.level == 'bluemover' %}
                <small style="color: #6C757D;">
                    âŠ™ Google ê³„ì • í† í° ê°±ì‹ ì„ ìœ„í•´ ì¬ë¡œê·¸ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.<br>
                    âŠ™ 'ê²ŒìŠ¤íŠ¸ ë¡œê·¸ì¸'ì´ ì•„ë‹Œ 'ë¸”ë£¨ë¬´ë²„ ë¡œê·¸ì¸'ìœ¼ë¡œ ì¬ë¡œê·¸ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.
                </small>
            {% else %}
                <small style="color: #6C757D;">Google ê³„ì • í† í° ê°±ì‹ ì„ ìœ„í•´ ì¬ë¡œê·¸ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.</small>
            {% endif %}
        </div>
        {% else %}
        <h1 class="mb-4" id="errorPageLarge" style="font-weight: 600; color: #58595B;">ğŸ‘€ ì•—, ì„œë²„ê°€ ì´ìƒí•©ë‹ˆë‹¤!</h1>
        <h2 class="mb-4" id="errorPageSmall" style="font-weight: 600; color: #58595B;">ğŸ‘€ ì•—, ì„œë²„ê°€ ì´ìƒí•©ë‹ˆë‹¤!</h2>
        {% endif %}
        <p class="pt-1">
            {% for account in user.socialaccount_set.all %}
                {% if account.extra_data.hd == 'bluemove.or.kr' %}
                    {{ user.last_name }}{{ user.first_name }} ë¸”ë£¨ë¬´ë²„ë‹˜ì˜
                {% elif perms.auth %}
                    {{ user.last_name }}{{ user.first_name }} ë§¤ë‹ˆì €ë‹˜ì˜
                {% else %}
                    {{ user.last_name }}{{ user.first_name }} ê²ŒìŠ¤íŠ¸ë‹˜ì˜
                {% endif %}
            {% empty %}
                {% if user.is_authenticated %}
                    {{ user.last_name }}{{ user.first_name }} ë§¤ë‹ˆì €ë‹˜ì˜
                {% endif %}
            {% endfor %}
            ìš”ì²­ì„ ì²˜ë¦¬í•˜ë ¤ê³  í–ˆìœ¼ë‚˜ ì„œë²„ê°€ ë¬¸ì œë¥¼ ì¼ìœ¼ì¼°ì–´ìš”. ğŸ˜¥<br>
            ì˜¤ë¥˜ê°€ ë°˜ë³µëœë‹¤ë©´ ì‚¬ë¬´êµ­ì— ì—°ë½í•´ì£¼ì„¸ìš”.
        </p>
        <small>
            <br>
            <strong>HTTP_STATUS_CODE:</strong> 500 Internal Server Error<br>
            <strong>HTTP_METHOD:</strong> {{ request.META.REQUEST_METHOD }}<br>
            <strong>USER_AGENT:</strong> {{ request.META.HTTP_USER_AGENT }}<br>
            <strong>USER_EMAIL:</strong> {% if request.user.is_authenticated %}{{ user.email }}{% else %}User is not authenticated{% endif %}<br>
            <strong>PREVIOUS_URI:</strong> {% if request.META.HTTP_REFERER %}{{ request.META.HTTP_REFERER }}{% else %}Unknown{% endif %}<br>
            <strong>CURRENT_URI:</strong> {{ request.build_absolute_uri }}
        </small>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-end mt-5">
            <a type="button" class="btn btn-outline-secondary" onclick="goBack()">ë’¤ë¡œ ê°€ê¸°</a>
            <a type="button" class="btn btn-outline-primary" href="{% url 'home:home' %}">ë©”ì¸ í˜ì´ì§€ë¡œ ê°€ê¸°</a>
            <!-- goBack Script -->
            <script>
                function goBack() {
                  window.history.back();
                }
            </script>
        </div>
    </div>
</main>
{% endblock %}
<!--  
0~768px noticetable-list ì¶œë ¥
769px~ noticetable-table ì¶œë ¥
 -->

<!-- noticetable-table -->
<div class="table-responsive" id="noticetable-table">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">ëŒ€ìƒ</th>
                <th scope="col">ì œëª©</th>
                <th scope="col">ë‹´ë‹¹</th>
                <th scope="col">ì‘ì„±ì¼</th>
                <th class="text-center" scope="col"></th>
            </tr>
        </thead>
        <tbody>
            {% for notice in my_notices %}
            <tr>
                <th scope="row">
                    {% if notice.category == 'bluemover' %}
                    ë¸”ë£¨ë¬´ë²„
                    {% endif %}
                    {% if notice.category == 'posongvi' %}
                    ë½€ì†¡ë¹„ í•™ìƒ
                    {% endif %}
                    {% if notice.category == 'applicant' %}
                    ë¸”ë£¨ë¬´ë²„ í¬ë§ì
                    {% endif %}
                </th>
                <td><a href="{% url 'notice:read' notice.id %}">{{ notice.title }}</a></td>
                <td>
                    {% if not notice.writer.first_name == '' %}
                    {{ notice.writer.last_name }}{{ notice.writer.first_name }}
                    {% else %}
                    {{ notice.writer }}
                    {% endif %}
                </td>
                <td>
                    {% if notice.created_at == notice.updated_at %}
                    {{ notice.created_at }}
                    {% else %}
                    {{ notice.created_at }} <small>({{ notice.updated_at }} ìˆ˜ì •)</small>
                    {% endif %}
                </td>
                <td>
                    {% if user.is_authenticated %}
                    <!-- Button trigger modal -->
                    <div class="text-center">
                        <a class="bookmark" href="{% url 'notice:notice_favorite' notice.id %}?next={{ request.path }}">
                            {% if user in notice.favorite_user_set.all %}
                            <i class="fas fa-bookmark"></i>
                            {% else %}
                            <i class="far fa-bookmark"></i>
                            {% endif %}
                        </a>
                    </div>
                    {% else %}
                    <div class="text-center">
                        <a type="button" class="bookmark" data-bs-toggle="modal" data-bs-target="#tableloginModal">
                            <i class="far fa-bookmark"></i>
                        </a>
                    </div>
                    <!-- Modal -->
                    <div class="modal fade" id="tableloginModal" tabindex="-1" aria-labelledby="tableloginModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                            <h5 class="modal-title" id="tableloginModalLabel" style="font-weight: 600;">ğŸ”‘ ë¡œê·¸ì¸ í•„ìš”</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì‘ì—…ì…ë‹ˆë‹¤.<br>ë¡œê·¸ì¸í•˜ì‹œê² ì–´ìš”?
                            </div>
                            <div class="modal-footer">
                            <a type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">ì•—, ì ì‹œë§Œìš”.</a>
                            <a type="button" href="{% url 'account_login' %}?next={{ request.path }}" class="btn btn-outline-primary">ë„¤, ë¡œê·¸ì¸í• ê²Œìš”!</a>
                            </div>
                        </div>
                        </div>
                    </div>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>


<!-- noticetable-list -->
<div class="list-group list-group-flush pt-2" id="noticetable-list">
    {% for notice in my_notices %}
    <div class="list-group-item px-0">
        <div class="d-flex w-100 justify-content-between">
            <p class="mb-1" style="font-weight: 600;">
                {% if notice.category == 'bluemover' %}
                ë¸”ë£¨ë¬´ë²„
                {% endif %}
                {% if notice.category == 'posongvi' %}
                ë½€ì†¡ë¹„ í•™ìƒ
                {% endif %}
                {% if notice.category == 'applicant' %}
                ë¸”ë£¨ë¬´ë²„ í¬ë§ì
                {% endif %}
            </p>
            {% if user.is_authenticated %}
            <!-- Button trigger modal -->
            <a class="bookmark" href="{% url 'notice:notice_favorite' notice.id %}?next={{ request.path }}">
                {% if user in notice.favorite_user_set.all %}
                <p class="mb-1"><i class="fas fa-bookmark"></i></p>
                {% else %}
                <p class="mb-1"><i class="far fa-bookmark"></i></p>
                {% endif %}
            </a>
            {% else %}
            <a type="button" class="bookmark" data-bs-toggle="modal" data-bs-target="#listloginModal">
                <p class="mb-1"><i class="far fa-bookmark"></i></p>
            </a>
            <!-- Modal -->
            <div class="modal fade" id="listloginModal" tabindex="-1" aria-labelledby="listloginModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="listloginModalLabel" style="font-weight: 600;">ğŸ”‘ ë¡œê·¸ì¸ í•„ìš”</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì‘ì—…ì…ë‹ˆë‹¤.<br>ë¡œê·¸ì¸í•˜ì‹œê² ì–´ìš”?
                        </div>
                        <div class="modal-footer">
                            <a type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">ì•—, ì ì‹œë§Œìš”.</a>
                            <a type="button" href="{% url 'account_login' %}?next={{ request.path }}" class="btn btn-outline-primary">ë„¤, ë¡œê·¸ì¸í• ê²Œìš”!</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
        <h5 class="mb-1"><a href="{% url 'notice:read' notice.id %}">{{ notice.title }}</a></h5>
        <div class="d-flex w-100 justify-content-between">
            <small>
                {% if not notice.writer.first_name == '' %}
                {{ notice.writer.last_name }}{{ notice.writer.first_name }}
                {% else %}
                {{ notice.writer }}
                {% endif %}
                â”‚
                {% if notice.created_at == notice.updated_at %}
                {{ notice.created_at }}
                {% else %}
                {{ notice.created_at }} ({{ notice.updated_at }} ìˆ˜ì •)
                {% endif %}
            </small>
        </div>
    </div>
    {% endfor %}
</div>
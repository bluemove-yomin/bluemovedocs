{% extends 'base.html' %}
{% block title %} 내 계정 | 블루무브 닥스 {% endblock %}
{% block content %}
{% include 'shared/_navbar4home.html' %}
<main class="px-2 px-md-5">
    <div class="container-md mt-5">
        <h1 class="mb-4" style="font-weight: 600; color: #58595B;">💙 내 계정</h1>

        <div class="container-md px-0">
            <div class="text-center">
                {% for account in user.socialaccount_set.all %}
                    <img height="96" class="rounded-circle" src="{{ account.get_avatar_url }}"/>
                {% empty %}
                    <img height="96" src="/static/images/favicons/favicon-96x96.png">
                {% endfor %}
                <h4 class="mt-2 mb-0">
                    <span style="font-weight: 600;">{{ user.last_name }}{{ user.first_name }}</span>님, 안녕하세요! :)
                </h4>
                <small>
                    {% for account in user.socialaccount_set.all %}
                        {{ account.date_joined }} 가입
                    {% empty %}
                        사무국 공동 계정으로 로그인하셨군요!
                    {% endfor %}
                </small>
            </div>
            <div class="mt-4">
                <div class="row row-cols-1 row-cols-lg-3 g-4">
                    <div class="col">
                        <div class="shadow-sm h-100">
                            <div class="card-body">
                                <h5 class="card-title" style="font-weight: 600; color: #58595B;">🙋‍♀️ 회원 구분</h5>
                                <p class="card-text">
                                    {% for account in user.socialaccount_set.all %}
                                        {% if account.extra_data.hd == 'bluemove.or.kr' %}
                                            {{ user.first_name }}님은 <b>블루무버</b>입니다.
                                        {% elif perms.auth %}
                                            {{ user.first_name }}님은 <b>매니저</b>입니다.
                                        {% else %}
                                            {{ user.first_name }}님은 <b>게스트</b>입니다.
                                        {% endif %}
                                    {% empty %}
                                        <b>사무국 매니저</b>입니다.
                                    {% endfor %}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="shadow-sm h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <h5 class="card-title" style="font-weight: 600; color: #58595B;">📧 이메일 주소</h5>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input mx-0" type="checkbox" id="emailSwitch" onclick="emailSwitch(this)">
                                    </div>
                                </div>
                                <p class="card-text">
                                    <span id="hideEmail">{{ user.email }}</span>
                                    <span id="showEmail" style="display: none;">{{ user.email }}</span>
                                </p>
                            </div>
                            <script>
                                (function () {
                                    var hideEmail = document.querySelector("#hideEmail")
                                    var maskEmail = hideEmail.innerText.replace(/[A-Za-z0-9]/g,"*")
                                    hideEmail.innerText = maskEmail
                                })()
                            </script>
                            <script>
                                function emailSwitch(obj) {
                                    var hideEmail = document.querySelector("#hideEmail")
                                    var maskEmail = hideEmail.innerText.replace(/[A-Za-z0-9]/g,"*")
                                    var showEmail = document.querySelector("#showEmail")
                                    if (obj.checked) {
                                        hideEmail.setAttribute("style", "display: none;")
                                        showEmail.setAttribute("style", "")
                                    }
                                    if (obj.checked == false) {
                                        hideEmail.setAttribute("style", "")
                                        hideEmail.innerText = maskEmail
                                        showEmail.setAttribute("style", "display: none;")
                                    }
                                }
                            </script>
                        </div>
                    </div>
                    <div class="col">
                        <div class="shadow-sm h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between">
                                    <h5 class="card-title" style="font-weight: 600; color: #58595B;">📱 휴대전화 번호</h5>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input mx-0" type="checkbox" id="phoneSwitch" onclick="phoneSwitch(this)">
                                    </div>
                                </div>
                                <p class="card-text">
                                    <span id="hidePhone">
                                        {% for account in user.socialaccount_set.all %}
                                            {{ user.profile.phone }}
                                        {% empty %}
                                            02-3296-0613
                                        {% endfor %}
                                    </span>
                                    <span id="showPhone" style="display: none;">
                                        {% for account in user.socialaccount_set.all %}
                                            {{ user.profile.phone }}
                                        {% empty %}
                                            02-3296-0613
                                        {% endfor %}
                                    </span>
                                </p>
                            </div>
                            <script>
                                (function () {
                                    var hidePhone = document.querySelector("#hidePhone")
                                    var maskPhone = hidePhone.innerText.replace(/[0-9]/g,"*")
                                    hidePhone.innerText = maskPhone
                                })()
                            </script>
                            <script>
                                function phoneSwitch(obj) {
                                    var hidePhone = document.querySelector("#hidePhone")
                                    var maskPhone = hidePhone.innerText.replace(/[0-9]/g,"*")
                                    var showPhone = document.querySelector("#showPhone")
                                    if (obj.checked) {
                                        hidePhone.setAttribute("style", "display: none;")
                                        showPhone.setAttribute("style", "")
                                    }
                                    if (obj.checked == false) {
                                        hidePhone.setAttribute("style", "")
                                        hidePhone.innerText = maskPhone
                                        showPhone.setAttribute("style", "display: none;")
                                    }
                                }
                            </script>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-4">
                <div class="row row-cols-1 g-4">
                    <div class="col">
                        <div class="shadow-sm h-100">
                            <div class="card-body">
                                <div id="noticeTablePosition"></div>
                                <h5 class="card-title" style="font-weight: 600; color: #58595B;"><a href="{% url 'notice:main' %}" style="color: #58595B;">📢 공지사항</a> 북마크</h5>
                                <!--  
                                0~768px noticetable-list 출력
                                769px~ noticetable-table 출력
                                -->

                                <!-- noticetable-table -->
                                <div class="table-responsive" id="noticetable-table">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th scope="col">대상</th>
                                                <th scope="col">제목</th>
                                                <th scope="col">담당</th>
                                                <th scope="col">작성일</th>
                                                <th class="text-end" scope="col"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for favorite in favorites %}
                                            <tr>
                                                <th scope="row">
                                                {% if favorite.category == 'bluemover' %}
                                                    블루무버
                                                {% elif favorite.category == 'guest' %}
                                                    게스트
                                                {% else %}
                                                    알 수 없음
                                                {% endif %}
                                                </th>
                                                <td><a href="{% url 'notice:read' favorite.id %}{{ request.get_full_path|cut:request.path }}" style="word-break: break-word; overflow: hidden; text-overflow: ellipsis; width: 500px; display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical;">{{ favorite.title }}</a></td>
                                                <td>
                                                    {{ favorite.writer.last_name }}{{ favorite.writer.first_name }}
                                                </td>
                                                <td>
                                                    {% if favorite.created_at == favorite.updated_at %}
                                                    {{ favorite.created_at }}
                                                    {% else %}
                                                    {{ favorite.created_at }} │ <span style="color: #6C757D;"><i class="fas fa-sync"></i> {{ favorite.updated_at }} 수정</span>
                                                    {% endif %}
                                                </td>
                                                <td>
                                                    {% if user.is_authenticated %}
                                                    <div class="text-end">
                                                        {% if not request.path == '/notice/' %}
                                                        <a class="bookmark" href="{% url 'notice:notice_favorite' favorite.id %}?next={{ request.get_full_path }}#noticeTablePosition">
                                                        {% else %}
                                                        <a class="bookmark" href="{% url 'notice:notice_favorite' favorite.id %}?next={{ request.get_full_path }}">
                                                        {% endif %}
                                                            {% if user in favorite.favorite_user_set.all %}
                                                            <i class="fas fa-bookmark"></i>
                                                            {% else %}
                                                            <i class="far fa-bookmark"></i>
                                                            {% endif %}
                                                        </a>
                                                    </div>
                                                    {% endif %}
                                                </td>
                                            </tr>
                                            {% empty %}
                                            <tr>
                                                <td colspan="5">
                                                    <div class="text-center"><br><h4 style="color: #CCCCCC; font-weight: 600;"><i class="far fa-folder-open"></i> 비어 있어요!</h4><p class="mb-4">공지사항을 북마크에 추가해보세요.</p></div>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>

                                    <!-- 페이지네이션 -->
                                    {% if favorites.has_other_pages %}
                                    <div class="container-md mt-5 mb-1 p-0">
                                        <nav aria-label="notice_pagination" style="background-color: transparent;">
                                            <ul class="pagination justify-content-center m-0">
                                                {% if favorites.has_previous %}
                                                <li class="page-item">
                                                    {% if not request.path == '/notice/' %}
                                                    <a class="page-link" href="?page={{ favorites.previous_page_number }}#noticeTablePosition">이전</a>
                                                    {% else %}
                                                    <a class="page-link" href="?page={{ favorites.previous_page_number }}">이전</a>
                                                    {% endif %}
                                                </li>
                                                {% else %}
                                                <li class="page-item disabled">
                                                    <span class="page-link">이전</span>
                                                </li>
                                                {% endif %}
                                                {% for i in favorites.paginator.page_range %}
                                                    {% if favorites.number == i %}
                                                    <li class="page-item active" aria-current="page">
                                                        <span class="page-link">{{ i }}</span>
                                                    </li>
                                                    {% else %}
                                                        {% if not request.path == '/notice/' %}
                                                        <li class="page-item"><a class="page-link" href="?page={{ i }}#noticeTablePosition">{{ i }}</a></li>
                                                        {% else %}
                                                        <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                                                        {% endif %}
                                                    {% endif %}
                                                {% endfor %}
                                                {% if favorites.has_next %}
                                                <li class="page-item">
                                                    {% if not request.path == '/notice/' %}
                                                    <a class="page-link" href="?page={{ favorites.next_page_number }}#noticeTablePosition">다음</a>
                                                    {% else %}
                                                    <a class="page-link" href="?page={{ favorites.next_page_number }}">다음</a>
                                                    {% endif %}
                                                </li>
                                                {% else %}
                                                <li class="page-item disabled">
                                                    <span class="page-link">다음</span>
                                                </li>
                                                {% endif %}
                                            </ul>
                                        </nav>
                                    </div>
                                    {% endif %}

                                </div>


                                <!-- noticetable-list -->
                                <div class="list-group list-group-flush" id="noticetable-list">
                                    {% for favorite in favorites %}
                                    <div class="list-group-item px-0">
                                        <div class="d-flex w-100 justify-content-between">
                                            <p class="mb-1" style="font-weight: 600;">
                                                {% if favorite.category == 'bluemover' %}
                                                    블루무버
                                                {% elif favorite.category == 'guest' %}
                                                    게스트
                                                {% else %}
                                                    알 수 없음
                                                {% endif %}
                                            </p>
                                            {% if user.is_authenticated %}
                                            <a class="bookmark" href="{% url 'notice:notice_favorite' favorite.id %}?next={{ request.get_full_path }}#noticeTablePosition">
                                                {% if user in favorite.favorite_user_set.all %}
                                                <p class="mb-1"><i class="fas fa-bookmark"></i></p>
                                                {% else %}
                                                <p class="mb-1"><i class="far fa-bookmark"></i></p>
                                                {% endif %}
                                            </a>
                                            {% endif %}
                                        </div>
                                        <h5 class="mb-1"><a href="{% url 'notice:read' favorite.id %}{{ request.get_full_path|cut:request.path }}" style="word-break: break-word; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">{{ favorite.title }}</a></h5>
                                        <div class="d-flex w-100 justify-content-between">
                                            <small>
                                                {{ favorite.writer.last_name }}{{ favorite.writer.first_name }}
                                                │
                                                {% if favorite.created_at == favorite.updated_at %}
                                                {{ favorite.created_at }}
                                                {% else %}
                                                {{ favorite.created_at }} │ <span style="color: #6C757D;"><i class="fas fa-sync"></i> {{ favorite.updated_at }} 수정</span>
                                                {% endif %}
                                            </small>
                                        </div>
                                    </div>
                                    {% empty %}
                                    <div class="list-group-item px-0">
                                        <div class="text-center"><br><h4 style="color: #CCCCCC; font-weight: 600;"><i class="far fa-folder-open"></i> 비어 있어요!</h4><p>공지사항을 북마크에 추가해보세요.</p></div>
                                    </div>
                                    {% endfor %}

                                    <!-- 페이지네이션 -->
                                    {% if favorites.has_other_pages %}
                                    <div class="container-md mt-5 mb-1 p-0">
                                        <nav aria-label="notice_pagination" style="background-color: transparent;">
                                            <ul class="pagination justify-content-center m-0">
                                                {% if favorites.has_previous %}
                                                <li class="page-item">
                                                    {% if not request.path == '/notice/' %}
                                                    <a class="page-link" href="?page={{ favorites.previous_page_number }}#noticeTablePosition">이전</a>
                                                    {% else %}
                                                    <a class="page-link" href="?page={{ favorites.previous_page_number }}">이전</a>
                                                    {% endif %}
                                                </li>
                                                {% else %}
                                                <li class="page-item disabled">
                                                    <span class="page-link">이전</span>
                                                </li>
                                                {% endif %}
                                                {% for i in favorites.paginator.page_range %}
                                                    {% if favorites.number == i %}
                                                    <li class="page-item active" aria-current="page">
                                                        <span class="page-link">{{ i }}</span>
                                                    </li>
                                                    {% else %}
                                                        {% if not request.path == '/notice/' %}
                                                        <li class="page-item"><a class="page-link" href="?page={{ i }}#noticeTablePosition">{{ i }}</a></li>
                                                        {% else %}
                                                        <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                                                        {% endif %}
                                                    {% endif %}
                                                {% endfor %}
                                                {% if favorites.has_next %}
                                                <li class="page-item">
                                                    {% if not request.path == '/notice/' %}
                                                    <a class="page-link" href="?page={{ favorites.next_page_number }}#noticeTablePosition">다음</a>
                                                    {% else %}
                                                    <a class="page-link" href="?page={{ favorites.next_page_number }}">다음</a>
                                                    {% endif %}
                                                </li>
                                                {% else %}
                                                <li class="page-item disabled">
                                                    <span class="page-link">다음</span>
                                                </li>
                                                {% endif %}
                                            </ul>
                                        </nav>
                                    </div>
                                    {% endif %}

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="shadow-sm h-100">
                            <div class="card-body">
                                <div id="box_noticeTablePosition"></div>
                                <h5 class="card-title" style="font-weight: 600; color: #58595B;"><a href="{% url 'box:main' %}" style="color: #58595B;">📁 문서함</a> 북마크</h5>
                                <!--  
                                0~768px noticetable-list 출력
                                769px~ noticetable-table 출력
                                -->

                                <!-- noticetable-table -->
                                <div class="table-responsive" id="box_noticetable-table">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th scope="col">대상</th>
                                                <th scope="col">제목</th>
                                                <th scope="col">담당</th>
                                                <th scope="col">작성일</th>
                                                <th class="text-end" scope="col"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for box_favorite in box_favorites %}
                                            <tr>
                                                <th scope="row">
                                                {% if box_favorite.category == 'bluemover' %}
                                                    블루무버
                                                {% elif box_favorite.category == 'guest' %}
                                                    게스트
                                                {% else %}
                                                    알 수 없음
                                                {% endif %}
                                                </th>
                                                <td><a href="{% url 'box:read' box_favorite.id %}{{ request.get_full_path|cut:request.path }}" style="word-break: break-word; overflow: hidden; text-overflow: ellipsis; width: 500px; display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical;">{{ box_favorite.title }}</a></td>
                                                <td>
                                                    {{ box_favorite.writer.last_name }}{{ box_favorite.writer.first_name }}
                                                </td>
                                                <td>
                                                    {% if box_favorite.created_at == box_favorite.updated_at %}
                                                    {{ box_favorite.created_at }}
                                                    {% else %}
                                                    {{ box_favorite.created_at }} │ <span style="color: #6C757D;"><i class="fas fa-sync"></i> {{ box_favorite.updated_at }} 수정</span>
                                                    {% endif %}
                                                </td>
                                                <td>
                                                    {% if user.is_authenticated %}
                                                    <div class="text-end">
                                                        {% if not request.path == '/box/' %}
                                                        <a class="bookmark" href="{% url 'box:box_favorite' box_favorite.id %}?next={{ request.get_full_path }}#box_noticeTablePosition">
                                                        {% else %}
                                                        <a class="bookmark" href="{% url 'box:box_favorite' box_favorite.id %}?next={{ request.get_full_path }}">
                                                        {% endif %}
                                                            {% if user in box_favorite.box_favorite_user_set.all %}
                                                            <i class="fas fa-bookmark"></i>
                                                            {% else %}
                                                            <i class="far fa-bookmark"></i>
                                                            {% endif %}
                                                        </a>
                                                    </div>
                                                    {% endif %}
                                                </td>
                                            </tr>
                                            {% empty %}
                                            <tr>
                                                <td colspan="5">
                                                    <div class="text-center"><br><h4 style="color: #CCCCCC; font-weight: 600;"><i class="far fa-folder-open"></i> 비어 있어요!</h4><p class="mb-4">문서함을 북마크에 추가해보세요.</p></div>
                                                </td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>

                                    <!-- 페이지네이션 -->
                                    {% if box_favorites.has_other_pages %}
                                    <div class="container-md mt-5 mb-1 p-0">
                                        <nav aria-label="notice_pagination" style="background-color: transparent;">
                                            <ul class="pagination justify-content-center m-0">
                                                {% if box_favorites.has_previous %}
                                                <li class="page-item">
                                                    {% if not request.path == '/box/' %}
                                                    <a class="page-link" href="?box_page={{ box_favorites.previous_page_number }}#box_noticeTablePosition">이전</a>
                                                    {% else %}
                                                    <a class="page-link" href="?box_page={{ box_favorites.previous_page_number }}">이전</a>
                                                    {% endif %}
                                                </li>
                                                {% else %}
                                                <li class="page-item disabled">
                                                    <span class="page-link">이전</span>
                                                </li>
                                                {% endif %}
                                                {% for i in box_favorites.paginator.page_range %}
                                                    {% if box_favorites.number == i %}
                                                    <li class="page-item active" aria-current="page">
                                                        <span class="page-link">{{ i }}</span>
                                                    </li>
                                                    {% else %}
                                                        {% if not request.path == '/box/' %}
                                                        <li class="page-item"><a class="page-link" href="?box_page={{ i }}#box_noticeTablePosition">{{ i }}</a></li>
                                                        {% else %}
                                                        <li class="page-item"><a class="page-link" href="?box_page={{ i }}">{{ i }}</a></li>
                                                        {% endif %}
                                                    {% endif %}
                                                {% endfor %}
                                                {% if box_favorites.has_next %}
                                                <li class="page-item">
                                                    {% if not request.path == '/box/' %}
                                                    <a class="page-link" href="?box_page={{ box_favorites.next_page_number }}#box_noticeTablePosition">다음</a>
                                                    {% else %}
                                                    <a class="page-link" href="?box_page={{ box_favorites.next_page_number }}">다음</a>
                                                    {% endif %}
                                                </li>
                                                {% else %}
                                                <li class="page-item disabled">
                                                    <span class="page-link">다음</span>
                                                </li>
                                                {% endif %}
                                            </ul>
                                        </nav>
                                    </div>
                                    {% endif %}

                                </div>


                                <!-- noticetable-list -->
                                <div class="list-group list-group-flush" id="box_noticetable-list">
                                    {% for box_favorite in box_favorites %}
                                    <div class="list-group-item px-0">
                                        <div class="d-flex w-100 justify-content-between">
                                            <p class="mb-1" style="font-weight: 600;">
                                                {% if box_favorite.category == 'bluemover' %}
                                                    블루무버
                                                {% elif box_favorite.category == 'guest' %}
                                                    게스트
                                                {% else %}
                                                    알 수 없음
                                                {% endif %}
                                            </p>
                                            {% if user.is_authenticated %}
                                            <a class="bookmark" href="{% url 'box:box_favorite' box_favorite.id %}?next={{ request.get_full_path }}#box_noticeTablePosition">
                                                {% if user in box_favorite.box_favorite_user_set.all %}
                                                <p class="mb-1"><i class="fas fa-bookmark"></i></p>
                                                {% else %}
                                                <p class="mb-1"><i class="far fa-bookmark"></i></p>
                                                {% endif %}
                                            </a>
                                            {% endif %}
                                        </div>
                                        <h5 class="mb-1"><a href="{% url 'box:read' box_favorite.id %}{{ request.get_full_path|cut:request.path }}" style="word-break: break-word; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">{{ box_favorite.title }}</a></h5>
                                        <div class="d-flex w-100 justify-content-between">
                                            <small>
                                                {{ box_favorite.writer.last_name }}{{ box_favorite.writer.first_name }}
                                                │
                                                {% if box_favorite.created_at == box_favorite.updated_at %}
                                                {{ box_favorite.created_at }}
                                                {% else %}
                                                {{ box_favorite.created_at }} │ <span style="color: #6C757D;"><i class="fas fa-sync"></i> {{ box_favorite.updated_at }} 수정</span>
                                                {% endif %}
                                            </small>
                                        </div>
                                    </div>
                                    {% empty %}
                                    <div class="list-group-item px-0">
                                        <div class="text-center"><br><h4 style="color: #CCCCCC; font-weight: 600;"><i class="far fa-folder-open"></i> 비어 있어요!</h4><p>문서함을 북마크에 추가해보세요.</p></div>
                                    </div>
                                    {% endfor %}

                                    <!-- 페이지네이션 -->
                                    {% if box_favorites.has_other_pages %}
                                    <div class="container-md mt-5 mb-1 p-0">
                                        <nav aria-label="notice_pagination" style="background-color: transparent;">
                                            <ul class="pagination justify-content-center m-0">
                                                {% if box_favorites.has_previous %}
                                                <li class="page-item">
                                                    {% if not request.path == '/box/' %}
                                                    <a class="page-link" href="?box_page={{ box_favorites.previous_page_number }}#box_noticeTablePosition">이전</a>
                                                    {% else %}
                                                    <a class="page-link" href="?box_page={{ box_favorites.previous_page_number }}">이전</a>
                                                    {% endif %}
                                                </li>
                                                {% else %}
                                                <li class="page-item disabled">
                                                    <span class="page-link">이전</span>
                                                </li>
                                                {% endif %}
                                                {% for i in box_favorites.paginator.page_range %}
                                                    {% if box_favorites.number == i %}
                                                    <li class="page-item active" aria-current="page">
                                                        <span class="page-link">{{ i }}</span>
                                                    </li>
                                                    {% else %}
                                                        {% if not request.path == '/box/' %}
                                                        <li class="page-item"><a class="page-link" href="?box_page={{ i }}#box_noticeTablePosition">{{ i }}</a></li>
                                                        {% else %}
                                                        <li class="page-item"><a class="page-link" href="?box_page={{ i }}">{{ i }}</a></li>
                                                        {% endif %}
                                                    {% endif %}
                                                {% endfor %}
                                                {% if box_favorites.has_next %}
                                                <li class="page-item">
                                                    {% if not request.path == '/box/' %}
                                                    <a class="page-link" href="?box_page={{ box_favorites.next_page_number }}#box_noticeTablePosition">다음</a>
                                                    {% else %}
                                                    <a class="page-link" href="?box_page={{ box_favorites.next_page_number }}">다음</a>
                                                    {% endif %}
                                                </li>
                                                {% else %}
                                                <li class="page-item disabled">
                                                    <span class="page-link">다음</span>
                                                </li>
                                                {% endif %}
                                            </ul>
                                        </nav>
                                    </div>
                                    {% endif %}

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% for account in user.socialaccount_set.all %}
            <div class="container-md mt-5 p-0 d-grid gap-2 d-sm-flex justify-content-sm-end">
                <a href="{% url 'users:delete' user.id %}" class="btn btn-outline-danger">삭제하기</a>
                <a href="{% url 'users:edit_info' user.id %}" class="btn btn-outline-secondary">수정하기</a>
            </div>
        {% empty %}
        {% endfor %}
        

        <!-- {% if user.is_authenticated %}
        <span>{{ user }}님이 로그인중입니다.</span>
     
        {% for account in user.socialaccount_set.all %}
     
         {% comment %} show avatar from url {% endcomment %}
         <h2 style="text-transform:capitalize;">{{ account.provider }} account data</h2>
     
         <p><img src="{{ account.get_avatar_url|add:'-rg-br100' }}"/></p>
     
         <p>UID: <a href="{{ account.extra_data.link }}">{{ account.uid }}</a></p>
     
         <p>Username: {{ account.extra_data.name }}</p>
          <p>First Name: {{ account.extra_data.given_name }}</p>
          <p>Last Name: {{ account.extra_data.family_name }}</p>
          <p>E-mail: {{ account.extra_data.email }}</p>
          <p>DATE_JOINED: {{ account.date_joined }}</p>
          <p>LAST_LOGIN: {{ account.last_login }}</p>
          <p>블루무버 여부: {{ account.extra_data.hd }}</p>
     
          <p>Dashboard Link:
          <a href="{{ account.extra_data.link }}">{{ account.extra_data.link }}</a></p>
          {% empty %}
          <p>you haven't any social account please</p>
        {% endfor %}
        {% endif %} -->
    </div>
</main>
{% endblock %}